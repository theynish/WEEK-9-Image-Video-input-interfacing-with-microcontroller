#include <SoftwareSerial.h>
#include "HUSKYLENS.h"
HUSKYLENS huskylens;
SoftwareSerial mySerial(4, 5); // RX, TX
int redpin = 11; // select the pin for the red LED
int bluepin =10; // select the pin for the  blue LED
int greenpin =9; // select the pin for the green LED

void setup() {
Serial.begin(9600);
mySerial.begin(9600);
 pinMode(redpin, OUTPUT);
  pinMode(bluepin, OUTPUT);
  pinMode(greenpin, OUTPUT);
  Serial.begin(9600);
while (!huskylens.begin(mySerial)) {
Serial.println("HuskyLens not connected!");
delay(1000);
}
Serial.println("HuskyLens Ready.");
}
void loop() {
if (!huskylens.request()) {
Serial.println("Request failed");
return;
}
if (huskylens.available()) {
HUSKYLENSResult result = huskylens.read();
Serial.println("Detected Color ID: ");
Serial.println(result.ID);

// Add actions based on detected color ID
if (result.ID == 1) {
// Color 1 detected
Serial.println("BLUE");
digitalWrite(11, HIGH);
} else if (result.ID == 2) {
// Color 2 detected
Serial.println("RED");
digitalWrite(9, HIGH);
} else if (result.ID == 3) {
// Color 3 detected
Serial.println("GREEN");
digitalWrite(10, HIGH);
}
}
delay(1000);
digitalWrite(9, LOW);
digitalWrite(10, LOW);
digitalWrite(11, LOW);
}
